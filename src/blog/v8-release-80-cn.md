***

æ ‡é¢˜ï¼š 'V8 å‘å¸ƒ v8.0'
ä½œè€…ï¼šâ€œLeszek Swirskiï¼Œä»–çš„åå­—çš„V8thâ€
åŒ–èº«ï¼š

*   'leszek-swirski'
    æ—¥æœŸï¼š 2019-12-18
    æ ‡ç­¾ï¼š
*   é‡Šæ”¾
    æè¿°ï¼š 'V8 v8.0 å…·æœ‰å¯é€‰çš„é“¾å¼é“¾æ¥ã€ç©ºåˆå¹¶ã€æ›´å¿«çš„é«˜é˜¶å†…ç½®åŠŸèƒ½ â€” å“¦ï¼Œç”±äºæŒ‡é’ˆå‹ç¼©ï¼Œå†…å­˜ä½¿ç”¨é‡å‡å°‘äº† 40%ï¼Œæ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ã€‚
    æ¨æ–‡ï¼šâ€œ1207323849861279746â€

***

<!-- Yes, it's an SVG. Please don't ask me how long I spent making it. -->

<!-- markdownlint-capture -->

<!-- markdownlint-disable no-inline-html -->

<div style="position: relative; left: 50%; margin-left: -45vw; width: 90vw; pointer-events: none">
<div style="width: 1075px; max-width:100%; margin:0 auto">
<svg xmlns="http://www.w3.org/2000/svg" width="1075" height="260" viewBox="-5 140 1075 260" style="display:block;width:100%;height:auto;margin-top:-4%;margin-bottom:-1em"><style>a{pointer-events: auto}text{font-family:Helvetica,Roboto,Segoe UI,Calibri,sans-serif;fill:#1c2022;font-weight:400}.bg,.divider{stroke:#e1e8ed;stroke-width:.8;fill:#fff}a.name text{font-weight:700}.subText,a.like text,a.name .subText{fill:#697882;font-size:14px;font-weight:400}a.like path{fill:url(#b)}a:hover text,a:focus text{fill:#3b94d9}a.like:hover text,a.like:focus text{fill:#e0245e}a.like:hover path,a.like:focus path{fill:url(#B)}.dark .bg{stroke:#66757f;fill:#000}.dark text{fill:#f5f8fa}.dark .subText,.dark a.name .subText,.dark a.like text{fill:#8899a6}.dark a:hover text,.dark a:focus text{fill:#55acee}.dark a.like:hover text,.dark a.like:focus text{fill:#e0245e}</style><defs><pattern id="a" width="1" height="1" patternContentUnits="objectBoundingBox" patternUnits="objectBoundingBox"><image width="1" height="1" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 72 72%22><path fill=%22none%22 d=%22M0 0h72v72H0z%22/><path class=%22icon%22 fill=%22%231da1f2%22 d=%22M68.812 15.14c-2.348 1.04-4.87 1.744-7.52 2.06 2.704-1.62 4.78-4.186 5.757-7.243-2.53 1.5-5.33 2.592-8.314 3.176C56.35 10.59 52.948 9 49.182 9c-7.23 0-13.092 5.86-13.092 13.093 0 1.026.118 2.02.338 2.98C25.543 24.527 15.9 19.318 9.44 11.396c-1.125 1.936-1.77 4.184-1.77 6.58 0 4.543 2.312 8.552 5.824 10.9-2.146-.07-4.165-.658-5.93-1.64-.002.056-.002.11-.002.163 0 6.345 4.513 11.638 10.504 12.84-1.1.298-2.256.457-3.45.457-.845 0-1.666-.078-2.464-.23 1.667 5.2 6.5 8.985 12.23 9.09-4.482 3.51-10.13 5.605-16.26 5.605-1.055 0-2.096-.06-3.122-.184 5.794 3.717 12.676 5.882 20.067 5.882 24.083 0 37.25-19.95 37.25-37.25 0-.565-.013-1.133-.038-1.693 2.558-1.847 4.778-4.15 6.532-6.774z%22/></svg>"/></pattern><pattern id="b" width="1" height="1" patternContentUnits="objectBoundingBox" patternUnits="objectBoundingBox"><image width="1" height="1" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2224%22 height=%2224%22 viewBox=%220 0 24 24%22><path class=%22icon%22 fill=%22%23697882%22 d=%22M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.813-1.148 2.353-2.73 4.644-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.375-7.454 13.11-10.037 13.156H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.035 11.596 8.55 11.658 1.52-.062 8.55-5.917 8.55-11.658 0-2.267-1.822-4.255-3.902-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.015-.03-1.426-2.965-3.955-2.965z%22/></svg>"/></pattern><pattern id="B" width="1" height="1" patternContentUnits="objectBoundingBox" patternUnits="objectBoundingBox"><image width="1" height="1" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2224%22 height=%2224%22 viewBox=%220 0 24 24%22><path class=%22icon%22 fill=%22%23E0245E%22 d=%22M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.813-1.148 2.353-2.73 4.644-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.375-7.454 13.11-10.037 13.156H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.035 11.596 8.55 11.658 1.52-.062 8.55-5.917 8.55-11.658 0-2.267-1.822-4.255-3.902-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.015-.03-1.426-2.965-3.955-2.965z%22/></svg>"/></pattern></defs><g><path class="bg" d="M-2.2 222.4l398.4-34.8 13.6 127.3-398.4 34.8z"/><g transform="rotate(-5 830.8 -212.3) scale(.8)"><image width="36" height="36" x="-25.2" y="206.2" href="/_img/v8-release-80/twitter-avatar-1.jpg"/><a class="name"><text x="66" y="21"><tspan x="19.8" y="218.6">Josebaba ğŸ’¥</tspan></text><text x="66" y="42" class="subText"><tspan x="19.8" y="235.4">@fullstackmofo</tspan></text></a><path fill="url(#a)" d="M412.8 206.2h20v20h-20z"/><text x="21" y="72" class="subText"><tspan x="-25.2" y="266.8">Replying to @v8js</tspan></text></a><text x="21" y="93"><tspan x="-25.2" y="291.2">V8 almost at v8</tspan></text><a class="like"><path d="M-25.2 307.4h17.5v17.5h-17.5z"/><text x="42" y="125" class="subText"><tspan x="-4.7" y="321.2">4</tspan></text></a><a href="https://twitter.com/fullstackmofo/status/1197260632237780994"><text x="61" y="126" class="subText"><tspan x="15.1" y="321.2">22:09 - 20 Nov 2019</tspan></text></a></g></g><g><path class="bg" d="M147.2 238.9l399 27.9-10.8 127-399-28z"/><g transform="rotate(4 -638.7 1274.7) scale(.8)"><image width="36" height="36" x="112.3" y="254.2" href="/_img/v8-release-80/twitter-avatar-2.jpg"/><a class="name"><text x="66" y="21"><tspan x="157.3" y="264.8">Connor â€˜Stryxusâ€™ Shearer</tspan></text><text x="66" y="40" class="subText"><tspan x="157.3" y="281.6">@Stryxus</tspan></text></a><path fill="url(#a)" d="M550.3 254.2h20v20h-20z"/><text x="21" y="71" class="subText"><tspan x="112.3" y="314">Replying to @v8js</tspan></text><g data-id="p"><text x="21" y="92"><tspan x="112.3" y="339.2">What happens when v8 reaches v8? ğŸ¤”</tspan></text></g><a class="like"><path d="M112.3 355.4h17.5v17.5h-17.5z"/><text x="42" y="125"><tspan x="132.8" y="369.2">11</tspan></text></a><a  href="https://twitter.com/Stryxus/status/1197187677747122176"><text x="68" y="126" class="subText"><tspan x="159.4" y="369.2">17:19 - 20 Nov 2019</tspan></text></a></g></g><g><path class="bg" d="M383.2 179.6l399.8-14 5.4 126.6-399.8 14z"/><g transform="rotate(-2 1958.9 -3131) scale(.8)"><image width="36" height="36" x="356.8" y="174.2" href="/_img/v8-release-80/twitter-avatar-3.jpg"/><a class="name"><text x="66" y="21"><tspan x="401.8" y="184.8">Thibault Molleman</tspan></text><text x="66" y="40" class="subText"><tspan x="401.8" y="201.6">@thibaultmol</tspan></text></a><path fill="url(#a)" d="M794.8 174.2h20v20h-20z"/><text x="21" y="71" class="subText"><tspan x="356.8" y="234">Replying to @v8js</tspan></text><text x="21" y="92"><tspan x="356.8" y="258.4">Wait. What happens when we get V8 V8?</tspan></text><a class="like"><path d="M356.8 274.6h17.5v17.5h-17.5z"/></a><a href="https://twitter.com/thibaultmol/status/1141656354169470976"><text x="54" y="125" class="subText"><tspan x="389.3" y="288.4">11:37 - 20 Jun 2019</tspan></text></a></g></g><g><path class="bg" d="M522 272.1l400-7 2.6 127.4-400 7z"/><g transform="rotate(-1 4619.2 -7976.5) scale(.8)"><image width="36" height="36" x="494.3" y="270.2" href="/_img/v8-release-80/twitter-avatar-4.jpg"/><a class="name"><text x="66" y="21"><tspan x="539.3" y="280.8">Greg Miernicki</tspan></text><text x="66" y="40" class="subText"><tspan x="539.3" y="297.6">@gregulatore</tspan></text></a><path fill="url(#a)" d="M932.3 270.2h20v20h-20z"/><text x="21" y="71" class="subText"><tspan x="494.3" y="330">Replying to @v8js</tspan></text><g data-id="p"><text x="21" y="92"><tspan x="494.3" y="355.2">Anything special planned for v8 v8.0? ğŸ˜…</tspan></text></g><a class="like"><path d="M494.3 371.4h17.5v17.5h-17.5z"/><text x="42" y="125"><tspan x="514.8" y="385.2">5</tspan></text></a><a href="https://twitter.com/gregulatore/status/1161302336314191872"><text x="61" y="126" class="subText"><tspan x="534.6" y="385.2">16:43 - 13 Aug 2019</tspan></text></a></g></g><g><path class="bg" d="M671.2 141.3l394 69.5-30 142.7-394-69.5z"/><g transform="rotate(10 469.6 1210) scale(.8)"><image width="36" height="36" x="624.2" y="174.2" href="/_img/v8-release-80/twitter-avatar-5.jpg"/><a class="name"><text x="66" y="21"><tspan x="669.2" y="184.8">SignpostMarv</tspan></text><text x="66" y="40" class="subText"><tspan x="669.2" y="201.6">@SignpostMarv</tspan></text></a><path fill="url(#a)" d="M1062.2 174.2h20v20h-20z"/><text x="21" y="71" class="subText"><tspan x="624.2" y="234">Replying to @v8js @ChromiumDev</tspan></text><text x="21" y="92"><tspan x="624.2" y="258.4">are you going to be having an extra special party when V8 goes</tspan><tspan x="624.2" y="279.4">v8?</tspan></text><a class="like"><path d="M624.2 296.6h17.5v17.5h-17.5z"/><text x="42" y="146"><tspan x="644.7" y="310.4">18</tspan></text></a><a href="https://twitter.com/SignpostMarv/status/1177603910288203782"><text x="69" y="147" class="subText"><tspan x="672.3" y="310.4">16:20 - 27 Sep 2019</tspan></text></a></g></g></svg>
</div>
</div>
<!-- markdownlint-restore -->

ç»ˆäºæ¥äº†ã€‚æ¯ä¸ª V8 ç‰ˆæœ¬ï¼Œæ¯å…­å‘¨ä¸€æ¬¡ï¼Œå½“æˆ‘ä»¬ä½œä¸ºæˆ‘ä»¬çš„ä¸€éƒ¨åˆ†è¿›è¡Œåˆ†æ”¯æ—¶[å‘å¸ƒæµç¨‹](/docs/release-process)ï¼Œé—®é¢˜æ¥äº†ï¼Œå½“ V8 è¾¾åˆ°ç‰ˆæœ¬ 8 æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚æˆ‘ä»¬ä¼šæœ‰æ´¾å¯¹å—ï¼Ÿæˆ‘ä»¬ä¼šå‘å¸ƒä¸€ä¸ªæ–°çš„ç¼–è¯‘å™¨å—ï¼Ÿæˆ‘ä»¬ä¼šè·³è¿‡ç‰ˆæœ¬8å’Œ9ï¼Œåªåœç•™åœ¨æ°¸æ’çš„V8ç‰ˆæœ¬Xå—ï¼Ÿæœ€åï¼Œåœ¨ä¹‹å[10å¹´ä»¥ä¸Š](/blog/10-years)åœ¨æˆ‘ä»¬çš„ç¬¬100ç¯‡åšå®¢æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒæˆ‘ä»¬æœ€æ–°çš„åˆ†æ”¯æœºæ„ï¼Œ[V8 ~~ç‰ˆæœ¬ 8.0~~ V8](https://chromium.googlesource.com/v8/v8.git/+log/branch-heads/8.0)ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥å›ç­”è¿™ä¸ªé—®é¢˜äº†ï¼š

è¿™æ˜¯é”™è¯¯ä¿®å¤å’Œæ€§èƒ½æ”¹è¿›ã€‚

è¿™ç¯‡æ–‡ç« æä¾›äº†ä¸€äº›äº®ç‚¹çš„é¢„è§ˆï¼Œé¢„è®¡å‡ å‘¨åå°†ä¸Chrome 80 Stableåè°ƒå‘å¸ƒã€‚

## æ€§èƒ½ï¼ˆå¤§å°å’Œé€Ÿåº¦ï¼‰{ #performance }

### æŒ‡é’ˆå‹ç¼©

\~~æˆ‘ä»¬æ”¹å˜äº†æˆ‘ä»¬æ‰€æœ‰çš„`void *`è‡ª`pv`ï¼Œå°†æºæ–‡ä»¶å¤§å°å‡å°‘å¤šè¾¾ 66%ã€‚~~

V8 å †åŒ…å«ä¸€æ•´ç»„é¡¹ç›®ï¼Œä¾‹å¦‚æµ®ç‚¹å€¼ã€å­—ç¬¦ä¸²å­—ç¬¦ã€ç¼–è¯‘ä»£ç å’Œæ ‡è®°å€¼ï¼ˆè¡¨ç¤ºè¿›å…¥ V8 å †çš„æŒ‡é’ˆæˆ–å°æ•´æ•°ï¼‰ã€‚åœ¨æ£€æŸ¥å †æ—¶ï¼Œæˆ‘ä»¬å‘ç°è¿™äº›æ ‡è®°çš„å€¼å æ®äº†å †çš„å¤§éƒ¨åˆ†ï¼

æ ‡è®°çš„å€¼ä¸ç³»ç»ŸæŒ‡é’ˆä¸€æ ·å¤§ï¼šå¯¹äº 32 ä½ä½“ç³»ç»“æ„ï¼Œå®ƒä»¬çš„å®½åº¦ä¸º 32 ä½ï¼Œå¯¹äº 64 ä½ä½“ç³»ç»“æ„ï¼Œå®ƒä»¬ä¸º 64 ä½å®½ã€‚ç„¶åï¼Œåœ¨æ¯”è¾ƒ 32 ä½ç‰ˆæœ¬å’Œ 64 ä½ç‰ˆæœ¬æ—¶ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸ªæ ‡è®°å€¼ä½¿ç”¨çš„å †å†…å­˜æ˜¯å…¶ä¸¤å€ã€‚

å¯¹æˆ‘ä»¬æ¥è¯´å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªè¯€çªã€‚é¡¶éƒ¨ä½å¯ä»¥ä»è¾ƒä½ä½åˆæˆã€‚ç„¶åï¼Œæˆ‘ä»¬åªéœ€è¦å°†å”¯ä¸€çš„è¾ƒä½ä½å­˜å‚¨åˆ°å †ä¸­ï¼Œä»è€ŒèŠ‚çœå®è´µçš„å†…å­˜èµ„æº...å¹³å‡èŠ‚çœ40%çš„å †å†…å­˜ï¼

![Pointer compression saves an average of 40% of memory.](/\_img/v8-release-80/pointer-compression-chart.svg)

åœ¨æ”¹å–„å†…å­˜æ—¶ï¼Œé€šå¸¸ä»¥ç‰ºç‰²æ€§èƒ½ä¸ºä»£ä»·ã€‚é€šå¸¸ã€‚æˆ‘ä»¬å¾ˆè‡ªè±ªåœ°å®£å¸ƒï¼Œåœ¨V8ä¸­èŠ±è´¹çš„æ—¶é—´å†…ï¼Œæˆ‘ä»¬çœ‹åˆ°çœŸå®ç½‘ç«™çš„æ€§èƒ½æœ‰æ‰€æé«˜ï¼Œå¹¶ä¸”åƒåœ¾æ”¶é›†å™¨ä¹Ÿæ˜¯å¦‚æ­¤ï¼

ï¼šï¼šï¼šè¡¨åŒ…è£…å™¨
|                      ||æ¡Œé¢|ç§»åŠ¨|
|-------------|----------|---------|--------|
|è„¸ä¹¦|V8-æ€»|-8% |-6% |
|^^          |æŒ‡å¯¼æ€§æ¡ˆä¾‹|-10% |-17% |
|ç¾å›½æœ‰çº¿ç”µè§†æ–°é—»ç½‘|V8-æ€»|-3% |-8% |
|^^          |æŒ‡å¯¼æ€§æ¡ˆä¾‹|-14% |-20% |
|è°·æ­Œåœ°å›¾|V8-æ€»|-4% |-6% |
|^^          |æŒ‡å¯¼æ€§æ¡ˆä¾‹|-7% |-12% |
:::

å¦‚æœæŒ‡é’ˆå‹ç¼©æ¿€èµ·äº†æ‚¨çš„å…´è¶£ï¼Œè¯·ç•™æ„åŒ…å«æ›´å¤šè¯¦ç»†ä¿¡æ¯çš„å®Œæ•´åšå®¢æ–‡ç« ã€‚

### ä¼˜åŒ–é«˜é˜¶å†…ç½®

æˆ‘ä»¬æœ€è¿‘åˆ é™¤äº†TurboFanä¼˜åŒ–ç®¡é“ä¸­çš„ä¸€ä¸ªé™åˆ¶ï¼Œè¯¥é™åˆ¶é˜»æ­¢äº†å¯¹é«˜é˜¶å†…ç½®ç»„ä»¶çš„ä¸»åŠ¨ä¼˜åŒ–ã€‚

```js
const charCodeAt = Function.prototype.call.bind(String.prototype.charCodeAt);

charCodeAt(string, 8);
```

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå‘¼å`charCodeAt`å¯¹äº TurboFan æ¥è¯´æ˜¯å®Œå…¨ä¸é€æ˜çš„ï¼Œè¿™å¯¼è‡´äº†å¯¹ç”¨æˆ·å®šä¹‰å‡½æ•°çš„é€šç”¨è°ƒç”¨çš„ç”Ÿæˆã€‚é€šè¿‡æ­¤æ›´æ”¹ï¼Œæˆ‘ä»¬ç°åœ¨èƒ½å¤Ÿè®¤è¯†åˆ°æˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨è°ƒç”¨å†…ç½®`String.prototype.charCodeAt`å‡½æ•°ï¼Œå› æ­¤èƒ½å¤Ÿè§¦å‘TurboFanåº“å­˜ä¸­çš„æ‰€æœ‰è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œä»¥æ”¹å–„å¯¹å†…ç½®çš„è°ƒç”¨ï¼Œä»è€Œè·å¾—ä¸ä»¥ä¸‹ç›¸åŒçš„æ€§èƒ½ï¼š

```js
string.charCodeAt(8);
```

æ­¤æ›´æ”¹ä¼šå½±å“è®¸å¤šå…¶ä»–å†…ç½®åŠŸèƒ½ï¼Œä¾‹å¦‚`Function.prototype.apply`,`Reflect.apply`ï¼Œä»¥åŠè®¸å¤šé«˜é˜¶æ•°ç»„å†…ç½®ï¼ˆä¾‹å¦‚`Array.prototype.map`).

## JavaScript

### å¯é€‰é“¾æ¥

åœ¨ç¼–å†™å±æ€§è®¿é—®é“¾æ—¶ï¼Œç¨‹åºå‘˜é€šå¸¸éœ€è¦æ£€æŸ¥ä¸­é—´å€¼æ˜¯å¦ä¸ºç©ºï¼ˆå³`null`æˆ–`undefined`).æ²¡æœ‰é”™è¯¯æ£€æŸ¥çš„é“¾å¯èƒ½ä¼šæŠ›å‡ºï¼Œè€Œå…·æœ‰æ˜¾å¼é”™è¯¯æ£€æŸ¥çš„é“¾æ˜¯å†—é•¿çš„ï¼Œå¹¶ä¸”å…·æœ‰æ£€æŸ¥æ‰€æœ‰çœŸå®å€¼è€Œä¸æ˜¯ä»…æ£€æŸ¥éç©ºå€¼çš„ä¸éœ€è¦çš„ç»“æœã€‚

```js
// Error prone-version, could throw.
const nameLength = db.user.name.length;

// Less error-prone, but harder to read.
let nameLength;
if (db && db.user && db.user.name)
  nameLength = db.user.name.length;
```

[å¯é€‰é“¾æ¥](https://v8.dev/features/optional-chaining)(`?.`ï¼‰ å…è®¸ç¨‹åºå‘˜ç¼–å†™æ›´ç®€æ´ã€æ›´å¥å£®çš„å±æ€§è®¿é—®é“¾ï¼Œä»¥æ£€æŸ¥ä¸­é—´å€¼æ˜¯å¦ä¸ºç©ºã€‚å¦‚æœä¸­é—´å€¼ä¸º nullï¼Œåˆ™æ•´ä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœä¸º`undefined`.

```js
// Still checks for errors and is much more readable.
const nameLength = db?.user?.name?.length;
```

é™¤äº†é™æ€å±æ€§è®¿é—®å¤–ï¼Œè¿˜æ”¯æŒåŠ¨æ€å±æ€§è®¿é—®å’Œè°ƒç”¨ã€‚è¯·å‚é˜…æˆ‘ä»¬çš„[åŠŸèƒ½è¯´æ˜](https://v8.dev/features/optional-chaining)æœ‰å…³è¯¦ç»†ä¿¡æ¯å’Œæ›´å¤šç¤ºä¾‹ã€‚

### ç©ºåˆå¹¶

è¿™[ç©ºåˆå¹¶](https://v8.dev/features/nullish-coalescing)ç®—å­`??`æ˜¯ä¸€ä¸ªæ–°çš„çŸ­è·¯äºŒå…ƒè¿ç®—ç¬¦ï¼Œç”¨äºå¤„ç†é»˜è®¤å€¼ã€‚ç›®å‰ï¼Œé»˜è®¤å€¼æœ‰æ—¶ä½¿ç”¨é€»è¾‘å¤„ç†`||`è¿ç®—ç¬¦ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºã€‚

```js
function Component(props) {
  const enable = props.enabled || true;
  // â€¦
}
```

ç”¨é€”`||`ä¸é€‚åˆè®¡ç®—é»˜è®¤å€¼ï¼Œå› ä¸º`a || b`è¯„ä¼°ä¸º`b`ä»€ä¹ˆæ—¶å€™`a`æ˜¯è™šå‡çš„ã€‚å¦‚æœ`props.enabled`å·²æ˜¾å¼è®¾ç½®ä¸º`false`,`enable`ä»ç„¶æ˜¯çœŸçš„ã€‚

ä½¿ç”¨ç©ºåˆå¹¶è¿ç®—ç¬¦ï¼Œ`a ?? b`è¯„ä¼°ä¸º`b`ä»€ä¹ˆæ—¶å€™`a`ä¸ºç©º ï¼ˆ`null`æˆ–`undefined`ï¼‰ï¼Œå¦åˆ™è®¡ç®—ä¸º`a`.è¿™æ˜¯æ‰€éœ€çš„é»˜è®¤å€¼è¡Œä¸ºï¼Œå¹¶ä½¿ç”¨`??`ä¿®å¤äº†ä¸Šé¢çš„é”™è¯¯ã€‚

```js
function Component(props) {
  const enable = props.enabled ?? true;
  // â€¦
}
```

ç©ºåˆå¹¶è¿ç®—ç¬¦å’Œå¯é€‰é“¾æ¥æ˜¯é…å¥—åŠŸèƒ½ï¼Œå¯ä»¥å¾ˆå¥½åœ°ååŒå·¥ä½œã€‚è¯¥ç¤ºä¾‹å¯ä»¥è¿›ä¸€æ­¥ä¿®æ”¹ï¼Œä»¥å¤„ç†æ²¡æœ‰`props`å‚æ•°è¢«ä¼ å…¥ã€‚

```js
function Component(props) {
  const enable = props?.enabled ?? true;
  // â€¦
}
```

è¯·å‚é˜…æˆ‘ä»¬çš„[åŠŸèƒ½è¯´æ˜](https://v8.dev/features/nullish-coalescing)æœ‰å…³è¯¦ç»†ä¿¡æ¯å’Œæ›´å¤šç¤ºä¾‹ã€‚

## V8 æ¥å£

è¯·ä½¿ç”¨`git log branch-heads/7.9..branch-heads/8.0 include/v8.h`ä»¥è·å– API æ›´æ”¹çš„åˆ—è¡¨ã€‚

å…·æœ‰[æ´»åŠ¨ V8 ç»“è´¦](/docs/source-code#using-git)å¯ä»¥ä½¿ç”¨`git checkout -b 8.0 -t branch-heads/8.0`ä»¥è¯•éªŒ V8 v8.0 ä¸­çš„æ–°åŠŸèƒ½ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥[è®¢é˜… Chrome çš„ Beta ç‰ˆé¢‘é“](https://www.google.com/chrome/browser/beta.html)å¹¶å¾ˆå¿«è‡ªå·±å°è¯•æ–°åŠŸèƒ½ã€‚
